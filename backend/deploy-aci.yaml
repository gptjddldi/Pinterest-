apiVersion: 2019-12-01
location: koreacentral
name: testgroup
properties:
  containers:
    - name: django
      properties:
        image: dockercompose.azurecr.io/pinterest:v2
        ports:
          - port: 8000
            protocol: TCP
        resources:
          requests:
            cpu: 2.9
            memoryInGB: 5.0

        volumeMounts:
          - name: home
            mountPath: /djangoProject

    - name: nginx
      properties:
        image: dockercompose.azurecr.io/nginx
        ports:
        - port: 443
          protocol: TCP
        - port: 80
          protocol: TCP

        resources:
          requests:
            cpu: 1.0
            memoryInGB: 1.0
        volumeMounts:
          - name: nginx-config
            mountPath: /etc/nginx

  volumes:
  - secret:
      ssl.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURSVENDQWkwQ0ZIdFhnV1A1ZTlBQU50S081
        L1k1NmhjckVFMEdNQTBHQ1NxR1NJYjNEUUVCQ3dVQU1GOHgKQ3pBSkJnTlZCQVlUQWt0U01RNHdE
        QVlEVlFRSURBVlRSVTlWVERFT01Bd0dBMVVFQnd3RlUwVlBWVXd4SVRBZgpCZ05WQkFvTUdFbHVk
        R1Z5Ym1WMElGZHBaR2RwZEhNZ1VIUjVJRXgwWkRFTk1Bc0dBMVVFQXd3RWNHRnlhekFlCkZ3MHlN
        VEExTVRJd05qRTJNemRhRncweU1qQTFNVEl3TmpFMk16ZGFNRjh4Q3pBSkJnTlZCQVlUQWt0U01R
        NHcKREFZRFZRUUlEQVZUUlU5VlRERU9NQXdHQTFVRUJ3d0ZVMFZQVlV3eElUQWZCZ05WQkFvTUdF
        bHVkR1Z5Ym1WMApJRmRwWkdkcGRITWdVSFI1SUV4MFpERU5NQXNHQTFVRUF3d0VjR0Z5YXpDQ0FT
        SXdEUVlKS29aSWh2Y05BUUVCCkJRQURnZ0VQQURDQ0FRb0NnZ0VCQUx4ME1BeVNxcUFKV0VCMkRw
        VE14OGtHY2Q0dEpKRWRBcjg1d2E0dzJNWWEKWWtFZkNZV1Y3TDRZVUFLSWtiYkFzYUN1Sm1ZZFRo
        Z0hrSDhsVTFtMEtNSE9ZaUEyT08xR2ZLUXRwNm95cXlxQwp3YlZIR09ML09saGhLa0dWbE5telpx
        U29Zd1NJaHAzV3FxQnE3MldJWTN0bDJPbFZZOHZvL2Q3RlRLNzVqNTBLClVJaXJRN0luNjNLS2RM
        UVd4ODk1eUNUdFZCeHdyTXh0RDdHV3hDdG11WVo1THFSYk1SNldwbVd6MkRGM21rRFEKZUlpQWlC
        TFpMd0lFU0VOcTNLMlhKQjJGVUt3WnFGRkJoN1ZxOTBaclBVTy8zRng4cGVlL1cvckg0Ti9CV01x
        Ngpmb0UrWkhCVFdsV2JBME1FZGhiaVRHVGhhYmt6QytZVTB4eVUweGxJK1ZNQ0F3RUFBVEFOQmdr
        cWhraUc5dzBCCkFRc0ZBQU9DQVFFQUxPSDAyZzN1dGRKWkxlZ3JFTXdEMllvTkRiTURpd1VzcWxk
        VXpydEx4V3IrMUtSSUc5dlEKTmkyUHhlQ3N6cEsvNG5NbmpDcEkvYjVCTVkyNUN3WktWYU1VUklm
        R2FyclBtZ2UvTWtLTzkwY0J1b2V3TXRGdworRnJ4UTJNaHFzVjRneW80dkhxSEcxekxkUk16MTlK
        ZEw3eHFuQk9BVjN6b25DQm5JeXJsekJZSWR4Q1JndW5PCkdxS1lNcGR3UWhPZkl3OCs4cXRTT1lV
        dnJCdDFFNVU2RHppYmZKYUpLZE1uc1hBMWF6cEdXbTFvdDZyNWRHaGsKWEplUjByKzNXRUZqUis5
        N1BkeWhyOGVNZjZwWG4zeG1JRDdTejRXTmNLbE1mM3V4ZWg0RlAvQUVhVDluWE16OAp2b2V1SlVL
        T3JKZWN4RVNhbDZNUzVqT2J2MThnek1wRTl3PT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo=

      ssl.key: LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUV2d0lCQURBTkJna3Foa2lHOXcwQkFRRUZB
        QVNDQktrd2dnU2xBZ0VBQW9JQkFRQzhkREFNa3FxZ0NWaEEKZGc2VXpNZkpCbkhlTFNTUkhRSy9P
        Y0d1TU5qR0dtSkJId21GbGV5K0dGQUNpSkcyd0xHZ3JpWm1IVTRZQjVCLwpKVk5adENqQnptSWdO
        amp0Um55a0xhZXFNcXNxZ3NHMVJ4amkvenBZWVNwQmxaVFpzMmFrcUdNRWlJYWQxcXFnCmF1OWxp
        R043WmRqcFZXUEw2UDNleFV5dStZK2RDbENJcTBPeUordHlpblMwRnNmUGVjZ2s3VlFjY0t6TWJR
        K3gKbHNRclpybUdlUzZrV3pFZWxxWmxzOWd4ZDVwQTBIaUlnSWdTMlM4Q0JFaERhdHl0bHlRZGhW
        Q3NHYWhSUVllMQphdmRHYXoxRHY5eGNmS1hudjF2NngrRGZ3VmpLdW42QlBtUndVMXBWbXdOREJI
        WVc0a3hrNFdtNU13dm1GTk1jCmxOTVpTUGxUQWdNQkFBRUNnZ0VBUWdOOU5WcEhGS3BSVkx0R0hr
        K2hpRVNPcktJcGxmK1FqOFcrbDdNYXJFSmYKdXFvUm5zN0cwRXdaOHRrK0djTmtOWUhyaDRlcWJI
        Wng0bWdEeTM5MWEzWk5IelYvT1hhZ2dLNVJkaWdybDBlWQpiVlRMWGZERDBtT3U5cXhjS09wVUFV
        Zk83NjZYWVVEcUlpbHpWS0N6SUcycnp3aVBYY1Z1OEpNeWFuU1hIdzM4CnZrdE9PQTNtOTVQKzhp
        RWFKS2VQaTVRSGhsa0FZWldCOE0vMEpCcE90R0VlWmhQZFh1RzBZMEpMSjMvakZNQm8KVXFIdmdV
        YzRSNUFTamloYkdaMWdtQnJySm4wdlV1RlBpbGdFb1ZtSlI2ODBtZ1ZBWVkxUnpNc1VtUS80OFRS
        bwo0VkhnNnJ2Z3BJTHZFTGVaWDNYeDhtRFVzc1U1TnNyNDQ4WnJkdTdOVVFLQmdRRHBnKzJESVN5
        RTBCZTNVVHViCkR0ZlFuK0d0NnRLZWJHUUlMRGZBb0MwU29pMlcvbGNxU0VKYmxMQWlhSTFocVQz
        R0NKUjdwdVNBL29yS1REaHIKZXV1a0d1MUNyM3BDMW1jMDhkazhWQjBMb3dadXZxMFAyRnFiWVc1
        U1RSQTBvaEpuSU1kOGloaGpFSnRhMjVlYQpDV2Y2amkzc3lSSXRPU3dta3BaTkxuaG9Xd0tCZ1FE
        T21ZS0xXVERaU1dUOEFxZEx4eTZKcDkxVFc1NVF6dFh0CnFGZStaT1Nyam5kQWl5dnhmRCtVMFJp
        YVhicDBJZi9tcElTSGxkSWRuamVObnBRclRWRHdLaE12S3lHQy9FZFkKUGpvbCs4c1hwSlBIUEo0
        eFVsYUtxNCtyZEFmZFhsVy8wZWkvSlUzbGhnUHUrU1NOdkl5bDJVMUdSMk5Yd1lEVApYQVp5OGVw
        RWFRS0JnUURqMThiQ1FIY1lxNVhJVnlscWRNUWNtak53SjRRVDhieDB3UGd4S2Rod3F1OEN1ZTNB
        Cm9ycWtjdUtjNEJpNjVwQVFqc1NhRmRBMUVLZkpGUytqcDA4T1V2dVhLbktIam4wckNxTWttd213
        RmdRcndENUsKREpienJ0QWUyM1JwZG8yd05DcVFtSW1NOTJJdDk3N25IREJwSjVzbHcxYko2MVBw
        MnZOdUlWNTRxd0tCZ1FDZApNNHQwa3FJcnc3LzJUZUtVTTNRQ3hGc1JVWFpPVUlQUk9UWENwcXlr
        cVZ1dUhmZUs0UnJVRnFKYzJ4TER5UmNaCm5YZEdYOGFvU0xwR3BUSmpISXFJbzh0REtkTnZBcDBh
        MVFhVDNscXptOFBpWndxTHh2WVl2K0FxK3JmOVJnbUQKVXFxQnYxWGRYckxoaEd1KytZZ2ZyaEF4
        ZUtKcnBNNXNoT3BYVGlJT2VRS0JnUUNTakZESU56bk1UZ3ZSL0xkWgpxSjBhNkk1NFR2dTJPQThP
        T1YwR0N0WVV5bm5jUmFCRTJCUm5uWExsK1RPOUo2M3gvTi91QkZpcVdOQ2NhWjg5ClNWOUw4ckdX
        TGtxNnJkRE1Scjl5UXJRMnBqaVBGNGdpZWtrSllhUXBHcU9oMzNzTFRXNmtUMnZSc2VaS1BjVG4K
        azduZStYUW1YM1doa0lGQnVxYXBQT2l2WVE9PQotLS0tLUVORCBQUklWQVRFIEtFWS0tLS0tCg==

      nginx.conf: IyBuZ2lueCBDb25maWd1cmF0aW9uIEZpbGUNCiMgaHR0cHM6Ly93aWtpLm5naW54Lm9yZy9Db25m
        aWd1cmF0aW9uDQoNCiMgUnVuIGFzIGEgbGVzcyBwcml2aWxlZ2VkIHVzZXIgZm9yIHNlY3VyaXR5
        IHJlYXNvbnMuDQp1c2VyIG5naW54Ow0KDQp3b3JrZXJfcHJvY2Vzc2VzIGF1dG87DQoNCmV2ZW50
        cyB7DQogIHdvcmtlcl9jb25uZWN0aW9ucyAxMDI0Ow0KfQ0KDQpwaWQgICAgICAgIC92YXIvcnVu
        L25naW54LnBpZDsNCg0KDQpodHRwIHsNCiAgICBzZXJ2ZXIgew0KICAgICAgICAgICBsaXN0ZW4g
        ODA7DQogICAgICAgICAgIHNlcnZlcl9uYW1lIHBpbnRlcmVzdC5rb3JlYWNlbnRyYWwuYXp1cmVj
        b250YWluZXIuaW87DQogICAgICAgICAgIHJldHVybiAzMDEgSFRUUFM6Ly8kc2VydmVyX25hbWUk
        cmVxdWVzdF91cmk7DQogICAgfQ0KICAgICNSZWRpcmVjdCB0byBodHRwcywgdXNpbmcgMzA3IGlu
        c3RlYWQgb2YgMzAxIHRvIHByZXNlcnZlIHBvc3QgZGF0YQ0KDQogICAgc2VydmVyIHsNCiAgICAg
        ICAgbGlzdGVuIFs6Ol06NDQzIHNzbDsNCiAgICAgICAgbGlzdGVuIDQ0MyBzc2w7DQoNCiAgICAg
        ICAgc2VydmVyX25hbWUgcGludGVyZXN0LmtvcmVhY2VudHJhbC5henVyZWNvbnRhaW5lci5pbzsN
        Cg0KICAgICAgICAjIFByb3RlY3QgYWdhaW5zdCB0aGUgQkVBU1QgYXR0YWNrIGJ5IG5vdCB1c2lu
        ZyBTU0x2MyBhdCBhbGwuIElmIHlvdSBuZWVkIHRvIHN1cHBvcnQgb2xkZXIgYnJvd3NlcnMgKElF
        NikgeW91IG1heSBuZWVkIHRvIGFkZA0KICAgICAgICAjIFNTTHYzIHRvIHRoZSBsaXN0IG9mIHBy
        b3RvY29scyBiZWxvdy4NCiAgICAgICAgc3NsX3Byb3RvY29scyAgICAgICAgICAgICAgVExTdjEu
        MjsNCg0KICAgICAgICAjIENpcGhlcnMgc2V0IHRvIGJlc3QgYWxsb3cgcHJvdGVjdGlvbiBmcm9t
        IEJlYXN0LCB3aGlsZSBwcm92aWRpbmcgZm9yd2FyZGluZyBzZWNyZWN5LCBhcyBkZWZpbmVkIGJ5
        IE1vemlsbGEgLSBodHRwczovL3dpa2kubW96aWxsYS5vcmcvU2VjdXJpdHkvU2VydmVyX1NpZGVf
        VExTI05naW54DQogICAgICAgIHNzbF9jaXBoZXJzICAgICAgICAgICAgICAgIEVDREhFLVJTQS1B
        RVMxMjgtR0NNLVNIQTI1NjpFQ0RIRS1FQ0RTQS1BRVMxMjgtR0NNLVNIQTI1NjpFQ0RIRS1SU0Et
        QUVTMjU2LUdDTS1TSEEzODQ6RUNESEUtRUNEU0EtQUVTMjU2LUdDTS1TSEEzODQ6REhFLVJTQS1B
        RVMxMjgtR0NNLVNIQTI1NjpESEUtRFNTLUFFUzEyOC1HQ00tU0hBMjU2OmtFREgrQUVTR0NNOkVD
        REhFLVJTQS1BRVMxMjgtU0hBMjU2OkVDREhFLUVDRFNBLUFFUzEyOC1TSEEyNTY6RUNESEUtUlNB
        LUFFUzEyOC1TSEE6RUNESEUtRUNEU0EtQUVTMTI4LVNIQTpFQ0RIRS1SU0EtQUVTMjU2LVNIQTM4
        NDpFQ0RIRS1FQ0RTQS1BRVMyNTYtU0hBMzg0OkVDREhFLVJTQS1BRVMyNTYtU0hBOkVDREhFLUVD
        RFNBLUFFUzI1Ni1TSEE6REhFLVJTQS1BRVMxMjgtU0hBMjU2OkRIRS1SU0EtQUVTMTI4LVNIQTpE
        SEUtRFNTLUFFUzEyOC1TSEEyNTY6REhFLVJTQS1BRVMyNTYtU0hBMjU2OkRIRS1EU1MtQUVTMjU2
        LVNIQTpESEUtUlNBLUFFUzI1Ni1TSEE6QUVTMTI4LUdDTS1TSEEyNTY6QUVTMjU2LUdDTS1TSEEz
        ODQ6RUNESEUtUlNBLVJDNC1TSEE6RUNESEUtRUNEU0EtUkM0LVNIQTpBRVMxMjg6QUVTMjU2OlJD
        NC1TSEE6SElHSDohYU5VTEw6IWVOVUxMOiFFWFBPUlQ6IURFUzohM0RFUzohTUQ1OiFQU0s7DQog
        ICAgICAgIHNzbF9wcmVmZXJfc2VydmVyX2NpcGhlcnMgIG9uOw0KDQogICAgICAgICMgT3B0aW1p
        emUgVExTL1NTTCBieSBjYWNoaW5nIHNlc3Npb24gcGFyYW1ldGVycyBmb3IgMTAgbWludXRlcy4g
        VGhpcyBjdXRzIGRvd24gb24gdGhlIG51bWJlciBvZiBleHBlbnNpdmUgVExTL1NTTCBoYW5kc2hh
        a2VzLg0KICAgICAgICAjIFRoZSBoYW5kc2hha2UgaXMgdGhlIG1vc3QgQ1BVLWludGVuc2l2ZSBv
        cGVyYXRpb24sIGFuZCBieSBkZWZhdWx0IGl0IGlzIHJlLW5lZ290aWF0ZWQgb24gZXZlcnkgbmV3
        L3BhcmFsbGVsIGNvbm5lY3Rpb24uDQogICAgICAgICMgQnkgZW5hYmxpbmcgYSBjYWNoZSAob2Yg
        dHlwZSAic2hhcmVkIGJldHdlZW4gYWxsIE5naW54IHdvcmtlcnMiKSwgd2UgdGVsbCB0aGUgY2xp
        ZW50IHRvIHJlLXVzZSB0aGUgYWxyZWFkeSBuZWdvdGlhdGVkIHN0YXRlLg0KICAgICAgICAjIEZ1
        cnRoZXIgb3B0aW1pemF0aW9uIGNhbiBiZSBhY2hpZXZlZCBieSByYWlzaW5nIGtlZXBhbGl2ZV90
        aW1lb3V0LCBidXQgdGhhdCBzaG91bGRuJ3QgYmUgZG9uZSB1bmxlc3MgeW91IHNlcnZlIHByaW1h
        cmlseSBIVFRQUy4NCiAgICAgICAgc3NsX3Nlc3Npb25fY2FjaGUgICAgc2hhcmVkOlNTTDoxMG07
        ICMgYSAxbWIgY2FjaGUgY2FuIGhvbGQgYWJvdXQgNDAwMCBzZXNzaW9ucywgc28gd2UgY2FuIGhv
        bGQgNDAwMDAgc2Vzc2lvbnMNCiAgICAgICAgc3NsX3Nlc3Npb25fdGltZW91dCAgMjRoOw0KDQoN
        CiAgICAgICAgIyBVc2UgYSBoaWdoZXIga2VlcGFsaXZlIHRpbWVvdXQgdG8gcmVkdWNlIHRoZSBu
        ZWVkIGZvciByZXBlYXRlZCBoYW5kc2hha2VzDQogICAgICAgIGtlZXBhbGl2ZV90aW1lb3V0IDMw
        MDsgIyB1cCBmcm9tIDc1IHNlY3MgZGVmYXVsdA0KDQogICAgICAgICMgcmVtZW1iZXIgdGhlIGNl
        cnRpZmljYXRlIGZvciBhIHllYXIgYW5kIGF1dG9tYXRpY2FsbHkgY29ubmVjdCB0byBIVFRQUw0K
        ICAgICAgICBhZGRfaGVhZGVyIFN0cmljdC1UcmFuc3BvcnQtU2VjdXJpdHkgJ21heC1hZ2U9MzE1
        MzYwMDA7IGluY2x1ZGVTdWJEb21haW5zJzsNCg0KICAgICAgICBzc2xfY2VydGlmaWNhdGUgICAg
        ICAvZXRjL25naW54L3NzbC5jcnQ7DQogICAgICAgIHNzbF9jZXJ0aWZpY2F0ZV9rZXkgIC9ldGMv
        bmdpbngvc3NsLmtleTsNCg0KICAgICAgICBsb2NhdGlvbiAvIHsNCiAgICAgICAgICAgIHByb3h5
        X3Bhc3MgaHR0cDovL3BpbnRlcmVzdC5rb3JlYWNlbnRyYWwuYXp1cmVjb250YWluZXIuaW86ODAw
        MDsgIyBUT0RPOiByZXBsYWNlIHBvcnQgaWYgYXBwIGxpc3RlbnMgb24gcG9ydCBvdGhlciB0aGFu
        IDgwDQogICAgICAgICAgICANCiAgICAgICAgICAgIHByb3h5X3NldF9oZWFkZXIgQ29ubmVjdGlv
        biAiIjsNCiAgICAgICAgICAgIHByb3h5X3NldF9oZWFkZXIgSG9zdCAkaG9zdDsNCiAgICAgICAg
        ICAgIHByb3h5X3NldF9oZWFkZXIgWC1SZWFsLUlQICRyZW1vdGVfYWRkcjsNCiAgICAgICAgICAg
        IHByb3h5X3NldF9oZWFkZXIgWC1Gb3J3YXJkZWQtRm9yICRyZW1vdGVfYWRkcjsNCiAgICAgICAg
        fQ0KICAgIH0NCn0=


    name: nginx-config

  - name: home
    azureFile:
      shareName: pinterestshare
      storageAccountName: dockercompose
      storageAccountKey: g+4dnDHDYaI0zPNKHLB/fo6p+9IOtXC8WWxiCLoFaXxXj2Nm150gdpRxmWJf0VSeIlyop2zd98lauEOjnB+kvA==

  ipAddress:
    ports:
    - port: 443
      protocol: TCP
    type: Public
  osType: Linux
  imageRegistryCredentials: # Credentials to pull a private image
    - server: dockercompose.azurecr.io
      username: dockercompose
      password: 1lGkFD6thpdwRC59+1XCuESd8Pn5Lyq4
tags: null
type: Microsoft.ContainerInstance/containerGroups